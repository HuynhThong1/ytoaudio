
> ytomp3@0.1.0 test
> jest __tests__/ConverterForm.test.tsx

FAIL __tests__/ConverterForm.test.tsx
  ConverterForm
    ‚àö renders input and button (83 ms)
    ‚àö handles input change (10 ms)
    √ó shows error on failed fetch (1022 ms)
    √ó shows video info on success (1017 ms)

  ‚óè ConverterForm ‚Ä∫ shows error on failed fetch

    Unable to find an element with the text: Invalid URL. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-xl mx-auto space-y-6"[39m
        [36m>[39m
          [36m<form[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center gap-2 select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 text-lg font-medium"[39m
                [33mdata-slot[39m=[32m"label"[39m
                [33mfor[39m=[32m"url"[39m
              [36m>[39m
                [0mYouTube URL[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input w-full min-w-0 rounded-md border px-3 py-1 shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex-1 h-12 text-lg bg-background/50 backdrop-blur-sm"[39m
                  [33mdata-slot[39m=[32m"input"[39m
                  [33mid[39m=[32m"url"[39m
                  [33mplaceholder[39m=[32m"https://www.youtube.com/watch?v=..."[39m
                  [33mtype[39m=[32m"url"[39m
                  [33mvalue[39m=[32m"invalid"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 rounded-md has-[>svg]:px-4 h-12 px-6"[39m
                  [33mdata-slot[39m=[32m"button"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mFetch[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 37 |[39m         fireEvent[33m.[39mclick(button)[33m;[39m
     [90m 38 |[39m
    [31m[1m>[22m[39m[90m 39 |[39m         [36mawait[39m waitFor(() [33m=>[39m {
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 40 |[39m             expect(screen[33m.[39mgetByText([32m'Invalid URL'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 41 |[39m         })[33m;[39m
     [90m 42 |[39m     })[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/ConverterForm.test.tsx:39:22)

  ‚óè ConverterForm ‚Ä∫ shows video info on success

    Unable to find an element with the text: Test Video. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-xl mx-auto space-y-6"[39m
        [36m>[39m
          [36m<form[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center gap-2 select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 text-lg font-medium"[39m
                [33mdata-slot[39m=[32m"label"[39m
                [33mfor[39m=[32m"url"[39m
              [36m>[39m
                [0mYouTube URL[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input w-full min-w-0 rounded-md border px-3 py-1 shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex-1 h-12 text-lg bg-background/50 backdrop-blur-sm"[39m
                  [33mdata-slot[39m=[32m"input"[39m
                  [33mid[39m=[32m"url"[39m
                  [33mplaceholder[39m=[32m"https://www.youtube.com/watch?v=..."[39m
                  [33mtype[39m=[32m"url"[39m
                  [33mvalue[39m=[32m"https://youtube.com/watch?v=123"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 rounded-md has-[>svg]:px-4 h-12 px-6"[39m
                  [33mdata-slot[39m=[32m"button"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mFetch[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</form>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"[39m
            [33mdata-slot[39m=[32m"alert"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed"[39m
              [33mdata-slot[39m=[32m"alert-description"[39m
            [36m>[39m
              [0mInvalid URL[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 62 |[39m         fireEvent[33m.[39mclick(button)[33m;[39m
     [90m 63 |[39m
    [31m[1m>[22m[39m[90m 64 |[39m         [36mawait[39m waitFor(() [33m=>[39m {
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 65 |[39m             expect(screen[33m.[39mgetByText([32m'Test Video'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 66 |[39m             expect(screen[33m.[39mgetByText([32m'Test Author'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 67 |[39m             expect(screen[33m.[39mgetByText([32m'Download MP3'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/ConverterForm.test.tsx:64:22)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 2 passed, 4 total
Snapshots:   0 total
Time:        3.645 s
Ran all test suites matching __tests__/ConverterForm.test.tsx.
